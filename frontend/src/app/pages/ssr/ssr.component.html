<div class="page-container">
  <h1>üñ•Ô∏è SSR (Server-Side Rendering) - Backend Selector</h1>
  
  <div class="info-card">
    <h2>Server-Side Rendering com Angular Universal</h2>
    <p>Esta p√°gina √© renderizada no servidor antes de ser enviada ao cliente, oferecendo melhor SEO e tempo de carregamento inicial.</p>
    <div class="rendering-info">
      <span class="badge ssr-badge">SSR Enabled</span>
      <span class="badge hydration-badge">Hydration Active</span>
      <p><small>Conte√∫do pr√©-renderizado no servidor com hidrata√ß√£o no cliente</small></p>
    </div>
  </div>

  <div class="selector-section">
    <form [formGroup]="configForm" class="config-form">
      <div class="form-row">
        <div class="form-group">
          <label for="database">üóÑÔ∏è Database:</label>
          <select id="database" formControlName="database" class="form-control">
            @for (option of databaseOptions; track option.value) {
              <option [value]="option.value">{{ option.label }}</option>
            }
          </select>
        </div>
        
        <div class="form-group">
          <label for="cache">‚ö° Cache:</label>
          <select id="cache" formControlName="cache" class="form-control">
            @for (option of cacheOptions; track option.value) {
              <option [value]="option.value">{{ option.label }}</option>
            }
          </select>
        </div>
        
        <div class="form-group">
          <label for="method">üîó M√©todo:</label>
          <select id="method" formControlName="method" class="form-control">
            @for (option of methodOptions; track option.value) {
              <option [value]="option.value">{{ option.label }}</option>
            }
          </select>
        </div>
      </div>
      
      <div class="form-actions">
        <div class="config-preview">
          <strong>üìã Configura√ß√£o SSR:</strong> {{ getConfigDescription() }}
        </div>
        <button 
          type="button" 
          (click)="processRequest()" 
          [disabled]="loading()"
          class="process-btn">
          @if (loading()) {
            ‚è≥ Processando...
          } @else {
            ÔøΩ Processar Requisi√ß√£o
          }
        </button>
      </div>
    </form>
  </div>

  <div class="result-section">
    @if (loading()) {
      <div class="loading">‚è≥ Processando requisi√ß√£o SSR...</div>
    } @else if (error()) {
      <div class="error">‚ùå {{ error() }}</div>
    } @else if (result()) {
      <div class="success">
        <h3>‚úÖ Resultado da Requisi√ß√£o SSR:</h3>
        <div class="data-display">
          <p><strong>Tecnologia:</strong> {{ result()?.tecnologia }}</p>
          <p><strong>Vers√£o:</strong> {{ result()?.versao }}</p>
          @if (result()?.mensagem) {
            <p><strong>Mensagem:</strong> {{ result()?.mensagem }}</p>
          }
          @if (result()?.status) {
            <p><strong>Status:</strong> {{ result()?.status }}</p>
          }
          @if (result()?.timestamp) {
            <p><strong>Timestamp:</strong> {{ result()?.timestamp }}</p>
          }
          @if (result()?.cache) {
            <p><strong>Cache Usado:</strong> {{ result()?.cache }}</p>
          }
          @if (result()?.database) {
            <p><strong>Database Usado:</strong> {{ result()?.database }}</p>
          }
        </div>
      </div>
    }
  </div>

  <div class="tech-info">
    <h3>üîß Op√ß√µes Dispon√≠veis (SSR):</h3>
    <ul>
      <li><strong>Rendering:</strong> Server-Side Rendering (Angular Universal)</li>
      <li><strong>Databases:</strong> PostgreSQL (Prisma) + MongoDB (Mongoose)</li>
      <li><strong>Cache:</strong> Redis com NestJS cache-manager</li>
      <li><strong>Protocolos:</strong> REST, GraphQL, gRPC, Microservices</li>
    </ul>
  </div>
</div>
